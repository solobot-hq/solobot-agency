(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let r=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],31278)},33651,e=>{"use strict";let r=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>r],33651)},14764,e=>{"use strict";let r=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>r],14764)},85531,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(14764),a=e.i(31278),l=e.i(75254);let o=(0,l.default)("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);var i=e.i(33651),n=e.i(78583);let d=(0,l.default)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),c=["Tutorial","Short Ad","Explainer","Testimonial","Case Study"],m=["TikTok","Reels","Shorts","LinkedIn"],u=["Urgent","Conversational","Professional","Humorous"],x={topic:"",style:c[0],platform:m[0],tone:u[0],duration:30,script_override:""};function g(){let e,l,[g,h]=(0,t.useState)(x),[b,p]=(0,t.useState)(null),[y,f]=(0,t.useState)({status:"queued",progress:0}),[j,v]=(0,t.useState)(!1),[w,N]=(0,t.useState)(0),[k,S]=(0,t.useState)(x.duration),[T,C]=(0,t.useState)(null),[P,F]=(0,t.useState)(!1),[$,D]=(0,t.useState)(null),q=e=>{let{name:r,value:t,type:s}=e.target;h(e=>({...e,[r]:"number"===s?parseInt(t,10):t}))},V=async e=>{if(e.preventDefault(),j)return;v(!0),f({status:"queued",progress:0}),p(null),C(null);let r=`Video Generation Job: Topic: ${g.topic}. Style: ${g.style}. Platform: ${g.platform}. Duration: ${g.duration}s. Script Override: ${g.script_override||"None"}.`,t=await fetch("/api/video-factory/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:r})});if(202!==t.status){let e=await t.json().catch(()=>({}));f({status:"error",progress:0,error:e?.error||`Status ${t.status}`}),v(!1);return}p((await t.json()).job_id)},L=(0,t.useCallback)(async()=>{if(b)try{let e=await fetch(`/api/video-factory/status?job_id=${b}`),r=await e.json();f(r),"done"===r.status||"error"===r.status?(v(!1),"done"===r.status&&g.duration&&S(g.duration)):setTimeout(L,2500)}catch{f({status:"error",progress:0,error:"Polling failed"}),v(!1)}},[b,g.duration]);(0,t.useEffect)(()=>{b&&L()},[b,L]);let M=async e=>{if(e.preventDefault(),"done"===y.status&&y.files?.vertical&&!P){if(w<0||k>g.duration||w>=k){D(`Invalid times. Start must be less than End, and both within 0-${g.duration}s.`),C(null);return}F(!0),D(null),C(null),await new Promise(e=>setTimeout(e,500)),C(y.files.vertical+"#trim="+w+"-"+k),F(!1)}},_=({href:e,label:t,icon:s})=>(0,r.jsxs)("a",{href:e,download:!0,className:"flex items-center justify-center p-3 text-sm font-medium text-white bg-green-700 rounded-md hover:bg-green-600 transition-all transform hover:scale-[1.02] shadow-md",children:[s,t]});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900 text-gray-200 p-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold mb-6 flex items-center",children:[(0,r.jsx)(o,{className:"w-8 h-8 mr-3 text-green-500"}),"SoloBot Video Factory"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 p-6 bg-gray-800 rounded-lg shadow-2xl h-fit border border-gray-700/70",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 border-b border-gray-700 pb-2",children:"Video Generation Inputs"}),(0,r.jsxs)("form",{onSubmit:V,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-300 mb-1",children:"Video Topic/Goal"}),(0,r.jsx)("textarea",{id:"topic",name:"topic",value:g.topic,onChange:q,rows:3,required:!0,placeholder:"E.g., How SoloBot helps agencies achieve 10x lead generation.",className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200 focus:ring-green-500 focus:border-green-500 resize-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"script_override",className:"block text-sm font-medium text-gray-300 mb-1",children:"Optional Script Override"}),(0,r.jsx)("textarea",{id:"script_override",name:"script_override",value:g.script_override,onChange:q,rows:4,placeholder:"Leave empty to generate a script via AI.",className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200 focus:ring-green-500 focus:border-green-500 resize-none"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"style",className:"block text-sm font-medium text-gray-300 mb-1",children:"Style"}),(0,r.jsx)("select",{id:"style",name:"style",value:g.style,onChange:q,className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200",children:c.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-300 mb-1",children:"Platform"}),(0,r.jsx)("select",{id:"platform",name:"platform",value:g.platform,onChange:q,className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200",children:m.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"tone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tone"}),(0,r.jsx)("select",{id:"tone",name:"tone",value:g.tone,onChange:q,className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200",children:u.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-300 mb-1",children:"Duration (s)"}),(0,r.jsx)("input",{type:"number",id:"duration",name:"duration",value:g.duration,onChange:q,min:15,max:60,required:!0,className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"15s to 60s"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:!g.topic||j,className:`w-full flex items-center justify-center py-3 px-4 rounded-md shadow-lg text-sm font-medium text-white transition-all transform hover:scale-[1.02] duration-200 ${!g.topic||j?"bg-green-500/50 cursor-not-allowed":"bg-green-600 hover:bg-green-700 shadow-green-500/30 hover:shadow-lg"}`,children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Loader2,{className:"w-5 h-5 mr-2 animate-spin"})," Generating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Send,{className:"w-5 h-5 mr-2"})," Generate Video"]})})]})]}),(0,r.jsx)("div",{className:"lg:col-span-2",children:b?(e="queued"===y.status?"text-yellow-400":"processing"===y.status?"text-blue-400":"done"===y.status?"text-green-400":"text-red-500",l="queued"===y.status?"Job queued...":"processing"===y.status?`Processing (${y.progress}%)`:"done"===y.status?"Video ready!":`Error: ${y.error||"Unknown error"}`,(0,r.jsxs)("div",{className:"space-y-4 p-6 bg-gray-800 rounded-lg shadow-xl animate-fade-in",children:[(0,r.jsxs)("h2",{className:`text-xl font-bold ${e} flex items-center`,children:["done"===y.status||"error"===y.status?(0,r.jsx)(d,{className:"w-6 h-6 mr-2"}):(0,r.jsx)(a.Loader2,{className:"w-6 h-6 mr-2 animate-spin"}),l]}),"processing"===y.status&&(0,r.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:(0,r.jsx)("div",{className:"bg-green-500 h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${y.progress}%`}})}),"done"===y.status&&y.files&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[(0,r.jsx)("h3",{className:"col-span-2 text-lg font-semibold text-gray-200",children:"Download Assets"}),(0,r.jsx)(_,{href:y.files.vertical,label:"Vertical (1080x1920 MP4)",icon:(0,r.jsx)(i.Download,{className:"w-4 h-4 mr-2"})}),(0,r.jsx)(_,{href:y.files.horizontal,label:"Horizontal (1920x1080 MP4)",icon:(0,r.jsx)(i.Download,{className:"w-4 h-4 mr-2"})}),(0,r.jsx)(_,{href:y.files.srt,label:"Captions (SRT)",icon:(0,r.jsx)(n.FileText,{className:"w-4 h-4 mr-2"})}),(0,r.jsx)(_,{href:y.files.thumb,label:"Thumbnail (JPG)",icon:(0,r.jsx)(i.Download,{className:"w-4 h-4 mr-2"})})]}),(0,r.jsx)(({files:e})=>e?.vertical?(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Video Preview (Vertical)"}),(0,r.jsx)("div",{className:"bg-black aspect-[9/16] max-w-sm mx-auto rounded-lg overflow-hidden border border-gray-700 shadow-lg shadow-black/40 ring-2 ring-inset ring-gray-700/50",children:(0,r.jsxs)("video",{controls:!0,width:"100%",poster:e.thumb,children:[(0,r.jsx)("source",{src:e.vertical,type:"video/mp4"}),"Your browser does not support the video tag."]},e.vertical)}),"done"===y.status&&(0,r.jsxs)("div",{className:"mt-8 pt-4 border-t border-gray-700/70",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Video Trimmer"}),(0,r.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"trimStart",className:"block text-sm font-medium text-gray-300 mb-1",children:"Start Time (0s)"}),(0,r.jsx)("input",{type:"number",id:"trimStart",value:w,onChange:e=>N(parseInt(e.target.value)),min:0,max:k,step:"1",required:!0,className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200 focus:ring-green-500 focus:border-green-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"trimEnd",className:"block text-sm font-medium text-gray-300 mb-1",children:["End Time (",g.duration,"s max)"]}),(0,r.jsx)("input",{type:"number",id:"trimEnd",value:k,onChange:e=>S(parseInt(e.target.value)),min:w+1,max:g.duration,step:"1",required:!0,className:"w-full p-2 border border-gray-700 rounded-md bg-gray-900 text-gray-200 focus:ring-green-500 focus:border-green-500"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:P||w>=k,className:`w-full flex items-center justify-center py-3 px-4 rounded-md shadow-lg text-sm font-medium text-white transition-all transform duration-200 ${P||w>=k?"bg-green-500/50 cursor-not-allowed":"bg-green-600 hover:bg-green-700 shadow-green-500/30 hover:shadow-lg"}`,children:P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Loader2,{className:"w-5 h-5 mr-2 animate-spin"})," Trimming..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{className:"w-5 h-5 mr-2"})," Trim Video"]})}),$&&(0,r.jsx)("p",{className:"text-xs text-red-500 text-center",children:$})]})]}),T&&(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-700/70",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Trimmed Result"}),(0,r.jsx)("div",{className:"bg-black aspect-[9/16] max-w-sm mx-auto rounded-lg overflow-hidden border border-gray-700 shadow-lg shadow-black/40 ring-2 ring-inset ring-gray-700/50",children:(0,r.jsx)("video",{controls:!0,autoPlay:!0,width:"100%",src:T},T)}),(0,r.jsx)("div",{className:"mt-3 text-center",children:(0,r.jsxs)("a",{href:T,download:"trimmed_video.mp4",className:"inline-flex items-center justify-center p-3 text-sm font-medium text-white bg-green-700 rounded-md hover:bg-green-600 transition-all shadow-md",children:[(0,r.jsx)(i.Download,{className:"w-4 h-4 mr-2"})," Download Trimmed"]})})]})]}):null,{files:y.files}),"queued"!==y.status&&b&&(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Job ID: ",b]})]})):(0,r.jsxs)("div",{className:"p-6 bg-gray-800 rounded-lg shadow-xl text-center flex flex-col justify-center min-h-[400px]",children:[(0,r.jsx)(o,{className:"w-16 h-16 mx-auto text-gray-600 mb-4"}),(0,r.jsx)("p",{className:"text-xl text-gray-400",children:"Your generated video and status will appear here."})]})})]})]})}e.s(["default",()=>g],85531)}]);