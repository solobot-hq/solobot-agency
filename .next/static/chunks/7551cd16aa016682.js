(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},66502,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(32102),l=e.i(70273),i=e.i(14764),d=e.i(63488),r=e.i(27612),n=e.i(31278);function c(){let[e,c]=(0,s.useState)([]),[o,x]=(0,s.useState)(null),[h,m]=(0,s.useState)(!0),b=async()=>{try{let e=await fetch("/api/inbox/list");e.ok&&c(await e.json())}catch(e){console.error("Failed to load inbox",e)}finally{m(!1)}};(0,s.useEffect)(()=>{b()},[]);let f=async e=>{x(e.id),e.isRead||(c(t=>t.map(t=>t.id===e.id?{...t,isRead:!0}:t)),await fetch("/api/inbox/mark-read",{method:"POST",body:JSON.stringify({id:e.id})}))},u=async()=>{m(!0),await fetch("/api/inbox/send",{method:"POST",body:JSON.stringify({sender:"System Notification",subject:"New Lead Batch Available",body:"The 'Leads Engine' bot has finished processing. 50 new high-quality leads have been added to your CRM."})}),await b()},j=e.find(e=>e.id===o);return(0,t.jsxs)("div",{className:"flex h-[calc(100vh-64px)] overflow-hidden bg-[#0B1221] text-slate-200",children:[(0,t.jsxs)("div",{className:"w-full md:w-1/3 border-r border-slate-800 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-[#0B1221]",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(a.Inbox,{className:"w-5 h-5 text-indigo-500"})," Inbox"]}),(0,t.jsx)("button",{onClick:u,className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",title:"Simulate incoming message",children:(0,t.jsx)(i.Send,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-800",children:h?(0,t.jsx)("div",{className:"p-8 flex justify-center",children:(0,t.jsx)(n.Loader2,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):0===e.length?(0,t.jsxs)("div",{className:"p-12 text-center flex flex-col items-center",children:[(0,t.jsx)(d.Mail,{className:"w-10 h-10 text-slate-700 mb-3"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"No messages yet."}),(0,t.jsx)("button",{onClick:u,className:"mt-4 text-xs text-indigo-400 hover:text-indigo-300",children:"Send test message"})]}):e.map(e=>(0,t.jsxs)("div",{onClick:()=>f(e),className:`p-4 border-b border-slate-800 cursor-pointer hover:bg-slate-800/50 transition-colors ${o===e.id?"bg-indigo-900/10 border-l-2 border-l-indigo-500":"border-l-2 border-l-transparent"}`,children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,t.jsx)("span",{className:`text-sm font-medium ${e.isRead?"text-slate-400":"text-white"}`,children:e.sender}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsx)("h4",{className:`text-sm truncate mb-1 ${e.isRead?"text-slate-500":"text-slate-200 font-semibold"}`,children:e.subject}),(0,t.jsx)("p",{className:"text-xs text-slate-600 truncate",children:e.body})]},e.id))})]}),(0,t.jsx)("div",{className:"hidden md:flex flex-1 flex-col bg-[#0F1528]",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start bg-[#0B1221]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:j.subject}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,t.jsx)("span",{className:"bg-indigo-500/10 text-indigo-400 px-2 py-0.5 rounded text-xs font-medium border border-indigo-500/20",children:j.sender}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:new Date(j.createdAt).toLocaleString()})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 text-slate-400 hover:text-amber-400 hover:bg-amber-400/10 rounded-lg transition-colors",children:(0,t.jsx)(l.Star,{className:"w-5 h-5"})}),(0,t.jsx)("button",{className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:(0,t.jsx)(r.Trash2,{className:"w-5 h-5"})})]})]}),(0,t.jsx)("div",{className:"flex-1 p-8 overflow-y-auto text-slate-300 leading-relaxed whitespace-pre-wrap",children:j.body})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-slate-800/50 rounded-full flex items-center justify-center mb-6",children:(0,t.jsx)(a.Inbox,{className:"w-10 h-10 text-slate-600"})}),(0,t.jsx)("p",{className:"text-lg font-medium text-slate-400",children:"Select a message to view details"})]})})]})}e.s(["default",()=>c])}]);