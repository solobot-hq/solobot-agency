module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],24669)},10758,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33508),e=a.i(33441),f=a.i(1027),g=a.i(96221),h=a.i(62036),i=a.i(46271);a.s(["UpgradeModal",0,({isOpen:a,onClose:j})=>{let[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)("monthly"),o="yearly"===m?"Save £78":null,p=async()=>{try{l(!0);let a="monthly"===m?"price_1Sfluc3ZAuu3KSSwAfVCBwzp":"price_1Sfm0K3ZAuu3KSSwcrpN2Fhw";if(!a){console.error("Price ID missing in environment variables"),l(!1);return}let b=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:a})}),c=await b.json();c.url?window.location.href=c.url:(console.error("No checkout URL returned",c),l(!1))}catch(a){console.error("Checkout failed:",a),l(!1)}};return a?(0,b.jsx)(h.AnimatePresence,{children:(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:(0,b.jsxs)(i.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-md bg-[#0F172A] border border-indigo-500/30 rounded-2xl shadow-2xl overflow-hidden",children:[(0,b.jsx)("button",{type:"button",onClick:j,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-white rounded-full hover:bg-white/10 transition-colors z-10",children:(0,b.jsx)(d.X,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"p-8 text-center bg-gradient-to-b from-indigo-900/20 to-transparent",children:[(0,b.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-indigo-500/20 rounded-full flex items-center justify-center border border-indigo-500/50 shadow-[0_0_30px_rgba(99,102,241,0.3)]",children:(0,b.jsx)(f.Zap,{className:"w-8 h-8 text-indigo-400"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Unlock Pro Power"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Remove limits and automate your entire workflow."})]}),(0,b.jsx)("div",{className:"px-8 flex justify-center mb-6",children:(0,b.jsxs)("div",{className:"flex bg-slate-800/50 p-1 rounded-lg border border-slate-700",children:[(0,b.jsx)("button",{type:"button",onClick:()=>n("monthly"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${"monthly"===m?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:"Monthly"}),(0,b.jsxs)("button",{type:"button",onClick:()=>n("yearly"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all flex items-center gap-2 ${"yearly"===m?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:["Yearly",(0,b.jsx)("span",{className:"text-[9px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20",children:"-17%"})]})]})}),(0,b.jsxs)("div",{className:"px-8 pb-8 space-y-4",children:[(0,b.jsx)("div",{className:"space-y-3",children:["Unlimited AI Generations","Advanced Rewrite Modes","Full Version History & No Watermark","Priority Support"].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-300",children:[(0,b.jsx)("div",{className:"p-1 rounded-full bg-emerald-500/20 text-emerald-400",children:(0,b.jsx)(e.Check,{className:"w-3 h-3"})}),a]},c))}),(0,b.jsx)("button",{type:"button",onClick:p,disabled:k,className:"w-full mt-6 py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-indigo-500/25 active:scale-95 flex flex-col items-center justify-center gap-1",children:k?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Loader2,{className:"w-5 h-5 animate-spin"}),"Redirecting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{className:"text-base",children:["Upgrade for £","monthly"===m?39:390," / ",m]}),o&&(0,b.jsxs)("span",{className:"text-[10px] font-normal opacity-90 text-indigo-200",children:["(Pay £390/yr • ",o,")"]})]})}),(0,b.jsx)("p",{className:"text-center text-[10px] text-slate-600 mt-4",children:"Secure payment via Stripe. Cancel anytime."})]})]})})}):null}])},33508,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},62036,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(86723),e=a.i(74290),f=a.i(14800),g=c,h=a.i(65802);class i extends g.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=this.props.sizeRef.current;a.height=b.offsetHeight||0,a.width=b.offsetWidth||0,a.top=b.offsetTop,a.left=b.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j({children:a,isPresent:c}){let d=(0,g.useId)(),e=(0,g.useRef)(null),f=(0,g.useRef)({width:0,height:0,top:0,left:0}),{nonce:j}=(0,g.useContext)(h.MotionConfigContext);return(0,g.useInsertionEffect)(()=>{let{width:a,height:b,top:g,left:h}=f.current;if(c||!e.current||!a||!b)return;e.current.dataset.motionPopId=d;let i=document.createElement("style");return j&&(i.nonce=j),document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            top: ${g}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[c]),(0,b.jsx)(i,{isPresent:c,childRef:e,sizeRef:f,children:g.cloneElement(a,{ref:e})})}let k=({children:a,initial:d,isPresent:g,onExitComplete:h,custom:i,presenceAffectsLayout:k,mode:m})=>{let n=(0,e.useConstant)(l),o=(0,c.useId)(),p=(0,c.useCallback)(a=>{for(let b of(n.set(a,!0),n.values()))if(!b)return;h&&h()},[n,h]),q=(0,c.useMemo)(()=>({id:o,initial:d,isPresent:g,custom:i,onExitComplete:p,register:a=>(n.set(a,!1),()=>n.delete(a))}),k?[Math.random(),p]:[g,p]);return(0,c.useMemo)(()=>{n.forEach((a,b)=>n.set(b,!1))},[g]),c.useEffect(()=>{g||n.size||!h||h()},[g]),"popLayout"===m&&(a=(0,b.jsx)(j,{isPresent:g,children:a})),(0,b.jsx)(f.PresenceContext.Provider,{value:q,children:a})};function l(){return new Map}var m=a.i(20410);let n=a=>a.key||"";function o(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}var p=a.i(1703);let q=({children:a,custom:f,initial:g=!0,onExitComplete:h,presenceAffectsLayout:i=!0,mode:j="sync",propagate:l=!1})=>{let[q,r]=(0,m.usePresence)(l),s=(0,c.useMemo)(()=>o(a),[a]),t=l&&!q?[]:s.map(n),u=(0,c.useRef)(!0),v=(0,c.useRef)(s),w=(0,e.useConstant)(()=>new Map),[x,y]=(0,c.useState)(s),[z,A]=(0,c.useState)(s);(0,p.useIsomorphicLayoutEffect)(()=>{u.current=!1,v.current=s;for(let a=0;a<z.length;a++){let b=n(z[a]);t.includes(b)?w.delete(b):!0!==w.get(b)&&w.set(b,!1)}},[z,t.length,t.join("-")]);let B=[];if(s!==x){let a=[...s];for(let b=0;b<z.length;b++){let c=z[b],d=n(c);t.includes(d)||(a.splice(b,0,c),B.push(c))}"wait"===j&&B.length&&(a=B),A(o(a)),y(s);return}let{forceRender:C}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:z.map(a=>{let c=n(a),d=(!l||!!q)&&(s===z||t.includes(c));return(0,b.jsx)(k,{isPresent:d,initial:(!u.current||!!g)&&void 0,custom:d?void 0:f,presenceAffectsLayout:i,mode:j,onExitComplete:d?void 0:()=>{if(!w.has(c))return;w.set(c,!0);let a=!0;w.forEach(b=>{b||(a=!1)}),a&&(null==C||C(),A(v.current),l&&(null==r||r()),h&&h())},children:a},c)})})};a.s(["AnimatePresence",()=>q],62036)},50524,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(57064),f=a.i(15618),g=a.i(70106);let h=(0,g.default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var i=a.i(92e3),j=a.i(24669);let k=(0,g.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var l=a.i(96221),m=a.i(92258),n=a.i(43108);let o={lead:{label:"New Leads",baseProbability:10,color:"bg-blue-500"},contacted:{label:"Contacted",baseProbability:30,color:"bg-yellow-500"},negotiation:{label:"Negotiation",baseProbability:70,color:"bg-purple-500"},closed:{label:"Won / Lost",baseProbability:100,color:"bg-emerald-500"}},p=a=>{let b=new Date,c=new Date(a.lastActivity),d=Math.floor((b.getTime()-c.getTime())/864e5),e=o[a.stage].baseProbability;"closed"!==a.stage&&(e=Math.max(5,e-5*Math.floor(d/3))),0===d&&"closed"!==a.stage&&(e=Math.min(95,e+5));let f=d>7&&"closed"!==a.stage,g="No immediate action";return"lead"===a.stage?g=d>2?"Initiate Outreach":"Research Prospect":"contacted"===a.stage?g=f?"Re-engage / Breakup Email":"Schedule Discovery Call":"negotiation"===a.stage?g=f?"Identify Blockers":"Push for Closing":"closed"===a.stage&&(g="Archive / Onboard"),{...a,winProbability:e,isStalled:f,nextStepSuggestion:g}},q=["Acme Corp","Globex","Soylent Corp","Initech","Umbrella Corp","Stark Ind","Wayne Ent","Cyberdyne","Massive Dynamic","Hooli"];var r=a.i(10758);let s=({deal:a,onDragStart:c,onDraftEmail:d})=>{let e=Math.round(a.value*((a.winProbability||0)/100));return(0,b.jsxs)("div",{draggable:!0,onDragStart:b=>c(b,a.id),className:`group relative p-4 rounded-xl border border-slate-700/50 bg-[#1E293B] hover:border-indigo-500/50 transition-all hover:shadow-lg hover:shadow-indigo-500/10 cursor-grab active:cursor-grabbing ${a.isStalled?"border-l-2 border-l-red-500":""}`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-slate-200 group-hover:text-indigo-400 transition-colors",children:a.companyName}),(0,b.jsx)("span",{className:"text-[10px] text-slate-500",children:a.contactName})]}),(0,b.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>d(a),className:"p-1.5 rounded-md hover:bg-slate-700 text-slate-400 hover:text-white",title:"Draft Outreach",children:(0,b.jsx)(m.Mail,{className:"w-3.5 h-3.5"})}),(0,b.jsx)("button",{className:"p-1.5 rounded-md hover:bg-slate-700 text-slate-400 hover:text-white",children:(0,b.jsx)(h,{className:"w-3.5 h-3.5"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-slate-300",children:["$",a.value.toLocaleString()]}),(0,b.jsxs)("span",{className:"text-[9px] text-slate-500",children:["~$",e.toLocaleString()," forecast"]})]}),"closed"!==a.stage&&(0,b.jsxs)("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-[9px] font-bold border ${a.winProbability>70?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":a.winProbability>40?"bg-yellow-500/10 text-yellow-400 border-yellow-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[(0,b.jsx)(j.TrendingUp,{className:"w-3 h-3"}),a.winProbability,"% Win"]})]}),(0,b.jsx)("div",{className:"pt-3 border-t border-slate-700/50 flex items-center gap-2",children:a.isStalled?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.AlertCircle,{className:"w-3 h-3 text-red-400 shrink-0"}),(0,b.jsxs)("span",{className:"text-[10px] text-red-400 font-medium truncate",children:["Stalled: ",a.nextStepSuggestion]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{className:"w-3 h-3 text-slate-500 shrink-0"}),(0,b.jsxs)("span",{className:"text-[10px] text-slate-500 truncate",children:["Next: ",a.nextStepSuggestion]})]})})]})};function t(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,m]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=setTimeout(()=>{h(((a=12)=>Array.from({length:a}).map((a,b)=>{let c=Math.random(),d="lead";c>.4&&(d="contacted"),c>.7&&(d="negotiation"),c>.9&&(d="closed");let e=Math.floor(20*Math.random()),f=new Date;return f.setDate(f.getDate()-e),p({id:`deal-${b}`,companyName:q[b%q.length],contactName:`Contact ${b+1}`,contactEmail:`contact${b+1}@example.com`,value:(Math.floor(50*Math.random())+5)*1e3,stage:d,createdAt:new Date,lastActivity:f,source:Math.random()>.5?"leads_engine":"manual"})}))(2)),j(!1)},600);return()=>clearTimeout(a)},[]);let v=a=>g.filter(b=>b.stage===a),w=b=>{let c=new URLSearchParams({recipient:b.contactName,intent:`Follow up regarding ${b.companyName} deal`,points:`Current deal stage: ${b.stage}
Value: $${b.value}
Next step: ${b.nextStepSuggestion}`});a.push(`/dashboard/email-assistant?${c.toString()}`)},x=(a,b)=>{m(b),a.dataTransfer.effectAllowed="move"},y=a=>{a.preventDefault(),a.dataTransfer.dropEffect="move"};return i?(0,b.jsx)("div",{className:"h-full w-full bg-[#0B1120] flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(l.Loader2,{className:"w-8 h-8 text-indigo-500 animate-spin"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Loading Revenue Engine..."})]})}):(0,b.jsxs)("div",{className:"h-full w-full bg-[#0B1120] text-slate-200 font-sans flex flex-col overflow-hidden",children:[(0,b.jsx)(r.UpgradeModal,{isOpen:t,onClose:()=>u(!1)}),(0,b.jsxs)("header",{className:"flex justify-between items-center px-6 py-4 border-b border-zinc-800 bg-[#0B1120] shrink-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2 rounded-xl bg-[#1E293B] border border-slate-700/50 shadow-lg shadow-indigo-900/10",children:(0,b.jsx)(e.LayoutGrid,{className:"w-5 h-5 text-indigo-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-xl font-bold text-white tracking-tight flex items-center gap-2",children:["Pipeline Manager",(0,b.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-indigo-500/10 text-indigo-400 text-[10px] font-bold tracking-wide uppercase border border-indigo-500/20",children:"Revenue Engine"})]}),(0,b.jsx)("p",{className:"text-xs text-slate-400 font-medium",children:"AI-powered deal tracking & forecasting"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"text-[10px] text-slate-500",children:[g.length," / ",3," Active Deals"]}),(0,b.jsxs)("button",{onClick:()=>{if(g.length>=3)return void u(!0);let a=p({id:`deal-new-${Date.now()}`,companyName:"New Prospect Inc.",contactName:"Alex Founder",contactEmail:"alex@newprospect.com",value:15e3,stage:"lead",createdAt:new Date,lastActivity:new Date,source:"manual"});h(b=>[a,...b])},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded-lg transition-all shadow-lg shadow-indigo-500/20 active:scale-95",children:[g.length>=3?(0,b.jsx)(n.Lock,{className:"w-3 h-3"}):(0,b.jsx)(f.Plus,{className:"w-3 h-3"}),"Add Deal"]})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-x-auto p-6",children:(0,b.jsx)("div",{className:"flex gap-6 h-full min-w-[1000px]",children:Object.keys(o).map(a=>(0,b.jsxs)("div",{className:`flex-1 flex flex-col min-w-[280px] rounded-xl transition-colors ${k?"bg-indigo-500/5 border-indigo-500/10 border-dashed border-2":""}`,onDragOver:y,onDrop:b=>{b.preventDefault(),k&&(h(b=>b.map(b=>b.id===k?p({...b,stage:a,lastActivity:new Date}):b)),m(null))},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4 px-1 pt-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${o[a].color}`}),(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-300 uppercase tracking-wide",children:o[a].label}),(0,b.jsx)("span",{className:"px-1.5 py-0.5 rounded bg-slate-800 text-slate-500 text-[10px] font-bold",children:v(a).length})]}),(0,b.jsx)("div",{className:"flex flex-col items-end",children:(0,b.jsxs)("span",{className:"text-[10px] font-bold text-slate-400",children:["$",g.filter(b=>b.stage===a).reduce((a,b)=>a+b.value,0).toLocaleString()]})})]}),(0,b.jsxs)("div",{className:"flex-1 rounded-xl space-y-3 overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-700 pb-10",children:[v(a).map(a=>(0,b.jsx)(s,{deal:a,onDragStart:x,onDraftEmail:w},a.id)),0===v(a).length&&(0,b.jsx)("div",{className:"h-24 flex items-center justify-center border-2 border-dashed border-slate-800 rounded-lg mx-2",children:(0,b.jsx)("span",{className:"text-xs text-slate-600",children:"Drop here"})})]})]},a))})})]})}a.s(["default",()=>t],50524)}];

//# sourceMappingURL=_87137ed8._.js.map