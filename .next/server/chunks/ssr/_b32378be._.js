module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},56473,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(19521),e=a.i(21374),f=a.i(92759),g=a.i(92258),h=a.i(81560),i=a.i(96221);function j(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),o=async()=>{try{let a=await fetch("/api/inbox/list");a.ok&&j(await a.json())}catch(a){console.error("Failed to load inbox",a)}finally{n(!1)}};(0,c.useEffect)(()=>{o()},[]);let p=async a=>{l(a.id),a.isRead||(j(b=>b.map(b=>b.id===a.id?{...b,isRead:!0}:b)),await fetch("/api/inbox/mark-read",{method:"POST",body:JSON.stringify({id:a.id})}))},q=async()=>{n(!0),await fetch("/api/inbox/send",{method:"POST",body:JSON.stringify({sender:"System Notification",subject:"New Lead Batch Available",body:"The 'Leads Engine' bot has finished processing. 50 new high-quality leads have been added to your CRM."})}),await o()},r=a.find(a=>a.id===k);return(0,b.jsxs)("div",{className:"flex h-[calc(100vh-64px)] overflow-hidden bg-[#0B1221] text-slate-200",children:[(0,b.jsxs)("div",{className:"w-full md:w-1/3 border-r border-slate-800 flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-[#0B1221]",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(d.Inbox,{className:"w-5 h-5 text-indigo-500"})," Inbox"]}),(0,b.jsx)("button",{onClick:q,className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",title:"Simulate incoming message",children:(0,b.jsx)(f.Send,{className:"w-4 h-4"})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-800",children:m?(0,b.jsx)("div",{className:"p-8 flex justify-center",children:(0,b.jsx)(i.Loader2,{className:"w-6 h-6 text-indigo-500 animate-spin"})}):0===a.length?(0,b.jsxs)("div",{className:"p-12 text-center flex flex-col items-center",children:[(0,b.jsx)(g.Mail,{className:"w-10 h-10 text-slate-700 mb-3"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"No messages yet."}),(0,b.jsx)("button",{onClick:q,className:"mt-4 text-xs text-indigo-400 hover:text-indigo-300",children:"Send test message"})]}):a.map(a=>(0,b.jsxs)("div",{onClick:()=>p(a),className:`p-4 border-b border-slate-800 cursor-pointer hover:bg-slate-800/50 transition-colors ${k===a.id?"bg-indigo-900/10 border-l-2 border-l-indigo-500":"border-l-2 border-l-transparent"}`,children:[(0,b.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,b.jsx)("span",{className:`text-sm font-medium ${a.isRead?"text-slate-400":"text-white"}`,children:a.sender}),(0,b.jsx)("span",{className:"text-[10px] text-slate-500",children:new Date(a.createdAt).toLocaleDateString()})]}),(0,b.jsx)("h4",{className:`text-sm truncate mb-1 ${a.isRead?"text-slate-500":"text-slate-200 font-semibold"}`,children:a.subject}),(0,b.jsx)("p",{className:"text-xs text-slate-600 truncate",children:a.body})]},a.id))})]}),(0,b.jsx)("div",{className:"hidden md:flex flex-1 flex-col bg-[#0F1528]",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start bg-[#0B1221]",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:r.subject}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,b.jsx)("span",{className:"bg-indigo-500/10 text-indigo-400 px-2 py-0.5 rounded text-xs font-medium border border-indigo-500/20",children:r.sender}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:new Date(r.createdAt).toLocaleString()})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"p-2 text-slate-400 hover:text-amber-400 hover:bg-amber-400/10 rounded-lg transition-colors",children:(0,b.jsx)(e.Star,{className:"w-5 h-5"})}),(0,b.jsx)("button",{className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:(0,b.jsx)(h.Trash2,{className:"w-5 h-5"})})]})]}),(0,b.jsx)("div",{className:"flex-1 p-8 overflow-y-auto text-slate-300 leading-relaxed whitespace-pre-wrap",children:r.body})]}):(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-slate-800/50 rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)(d.Inbox,{className:"w-10 h-10 text-slate-600"})}),(0,b.jsx)("p",{className:"text-lg font-medium text-slate-400",children:"Select a message to view details"})]})})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=_b32378be._.js.map