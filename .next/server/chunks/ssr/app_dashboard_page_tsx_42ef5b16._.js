module.exports=[20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(98003),e=a.i(38246),f=a.i(50944),g=a.i(1027),h=a.i(82434),i=a.i(90669),j=a.i(16201),k=a.i(15618),l=a.i(87532),m=a.i(92258),n=a.i(32860),o=a.i(62722),p=a.i(41710),q=a.i(24669),r=a.i(92e3),s=a.i(69439),t=a.i(35125),u=a.i(20494),v=a.i(3314),w=a.i(83077),x=a.i(50429);function y(){let{user:a,isLoaded:y}=(0,d.useUser)();(0,f.useRouter)();let[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!0),[H,I]=(0,c.useState)("All"),[J,K]=(0,c.useState)("All"),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)({totalBots:0,runningTasks:0,activeCredits:0,totalCredits:0,systemAlerts:0,success:0,pending:0,failed:0,successRate:0}),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(!0),[X,Y]=(0,c.useState)(0),[Z,$]=(0,c.useState)(0),[_,aa]=(0,c.useState)(0);(0,c.useEffect)(()=>{(async()=>{try{let[a,b,c,d,e,f,g]=await Promise.all([fetch("/api/dashboard/execution-stats"),fetch("/api/dashboard/credits-usage"),fetch("/api/dashboard/activity"),fetch("/api/dashboard/efficiency"),fetch("/api/dashboard/active-users"),fetch("/api/dashboard/new-users-week"),fetch("/api/dashboard/tasks-today")]);if(a.ok?Q(await a.json()):Q({totalBots:15,runningTasks:4,activeCredits:450,totalCredits:1e3,systemAlerts:0,success:85,pending:10,failed:5,successRate:85}),b.ok&&S(await b.json()),c.ok&&O(await c.json()),d.ok){let a=await d.json();U(a)}else U({successRate:92,cost:1240,trend:12});e.ok&&Y(await e.json()),f.ok&&$(await f.json()),g.ok&&aa(await g.json()),M([{id:"1",name:"Email Outreach Campaign",bot:"Email Assistant",type:"Outreach",lastRun:"10 mins ago",status:"Running",errors:0,completion:45,href:"/dashboard/email-assistant"},{id:"2",name:"SaaS Leads Q3",bot:"Leads Engine",type:"Scraper",lastRun:"2 hours ago",status:"Completed",errors:0,completion:100,href:"/dashboard/leads-engine"},{id:"3",name:"LinkedIn Connection Flow",bot:"Outreach Bot",type:"Social",lastRun:"5 hours ago",status:"Paused",errors:0,completion:60,href:"/dashboard/outreach-bot"},{id:"4",name:"Tech Blog Generator",bot:"Content Assistant",type:"Content",lastRun:"1 day ago",status:"Failed",errors:2,completion:12,href:"/dashboard/content-assistant"},{id:"5",name:"Resume Parsing Batch",bot:"CV Generator",type:"Analysis",lastRun:"2 days ago",status:"Completed",errors:0,completion:100,href:"/dashboard/cv-generator"}])}catch(a){console.error("Failed to fetch dashboard data",a)}finally{A(!1),W(!1)}})()},[]);let ab=(0,c.useMemo)(()=>L.filter(a=>{let b=a.name.toLowerCase().includes(B.toLowerCase())||a.bot.toLowerCase().includes(B.toLowerCase()),c="All"===H||a.status===H,d="All"===J||a.type===J;return b&&c&&d}),[L,B,H,J]),ac=a=>{switch(a){case"Mail":return(0,b.jsx)(m.Mail,{className:"w-4 h-4 text-white"});case"CheckCircle":return(0,b.jsx)(j.CheckCircle,{className:"w-4 h-4 text-white"});case"XCircle":return(0,b.jsx)(o.XCircle,{className:"w-4 h-4 text-white"});case"Zap":return(0,b.jsx)(g.Zap,{className:"w-4 h-4 text-white"});default:return(0,b.jsx)(i.Activity,{className:"w-4 h-4 text-white"})}};return y?(0,b.jsxs)("div",{className:`min-h-screen bg-[#0B1221] text-slate-200 p-6 lg:p-10 animate-in fade-in duration-500 ${F?"dark":""}`,children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:["Welcome back, ",a?.firstName||"Admin"]}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:"Here's what's happening with your agency today."})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)(e.default,{href:"/dashboard/new-project",className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[(0,b.jsx)(k.Plus,{className:"w-4 h-4"})," New Project"]})})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{label:"Active Bots",value:P.totalBots,icon:h.Bot,color:"text-indigo-400",bg:"bg-indigo-500/10"},{label:"Running Tasks",value:P.runningTasks,icon:i.Activity,color:"text-blue-400",bg:"bg-blue-500/10"},{label:"Success Rate",value:`${P.successRate}%`,icon:j.CheckCircle,color:"text-emerald-400",bg:"bg-emerald-500/10"},{label:"Credits Usage",value:`${P.activeCredits}/${P.totalCredits}`,icon:g.Zap,color:"text-amber-400",bg:"bg-amber-500/10"}].map((a,c)=>(0,b.jsx)("div",{className:"bg-[#111827] border border-slate-800 rounded-xl p-5 hover:border-slate-700 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:a.label}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mt-2",children:a.value})]}),(0,b.jsx)("div",{className:`p-2 rounded-lg ${a.bg}`,children:(0,b.jsx)(a.icon,{className:`w-5 h-5 ${a.color}`})})]})},c))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,b.jsxs)("div",{className:"bg-[#111827] border border-slate-800 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-5 border-b border-slate-800 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Active Projects"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,b.jsx)("input",{type:"text",placeholder:"Search projects...",value:B,onChange:a=>C(a.target.value),className:"bg-[#0B1221] border border-slate-700 text-slate-200 text-sm rounded-lg pl-9 pr-4 py-2 w-full sm:w-64 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-[#0B1221]/50 text-slate-400 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-5 py-3",children:"Project Name"}),(0,b.jsx)("th",{className:"px-5 py-3",children:"Status"}),(0,b.jsx)("th",{className:"px-5 py-3",children:"Completion"}),(0,b.jsx)("th",{className:"px-5 py-3 text-right",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-800",children:ab.length>0?ab.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,b.jsxs)("td",{className:"px-5 py-4",children:[(0,b.jsx)("div",{className:"font-medium text-slate-200",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-0.5",children:[a.bot," • ",a.lastRun]})]}),(0,b.jsx)("td",{className:"px-5 py-4",children:(0,b.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"Running":return"bg-blue-500/10 text-blue-400 border-blue-500/20";case"Completed":return"bg-emerald-500/10 text-emerald-400 border-emerald-500/20";case"Paused":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"Failed":return"bg-red-500/10 text-red-400 border-red-500/20";default:return"bg-slate-500/10 text-slate-400 border-slate-500/20"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-5 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 h-1.5 w-24 bg-slate-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full rounded-full ${"Failed"===a.status?"bg-red-500":"bg-indigo-500"}`,style:{width:`${a.completion}%`}})}),(0,b.jsxs)("span",{className:"text-xs text-slate-400",children:[a.completion,"%"]})]})}),(0,b.jsx)("td",{className:"px-5 py-4 text-right",children:(0,b.jsxs)(e.default,{href:a.href,className:"text-indigo-400 hover:text-indigo-300 text-xs font-medium inline-flex items-center gap-1",children:["View ",(0,b.jsx)(n.ArrowRight,{className:"w-3 h-3"})]})})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"px-5 py-8 text-center text-slate-500",children:"No projects found matching your search."})})})]})})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-[#111827]/40 backdrop-blur-xl border border-white/5 rounded-2xl p-6 flex flex-col justify-between shadow-[0_0_40px_-10px_rgba(0,0,0,0.3)] relative overflow-hidden h-[340px]",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-40 h-40 bg-purple-500/5 rounded-full blur-[60px]"}),(0,b.jsxs)("div",{className:"flex justify-between items-start z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-white mb-1",children:"Weekly Efficiency"}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Task success rate vs. cost"})]}),(0,b.jsx)(p.Clock,{className:"h-4 w-4 text-slate-500"})]}),(0,b.jsx)("div",{className:"my-4 flex-1 flex flex-col justify-center z-10",children:V?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full space-y-3",children:[(0,b.jsx)("div",{className:"w-6 h-6 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 animate-pulse",children:"Loading efficiency data..."})]}):T?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Success Rate"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-[#10B981]",children:[T.successRate,"%"]})]}),(0,b.jsx)("div",{className:"h-2 bg-[#1F2937] rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-[#10B981] transition-all duration-700 rounded-full",style:{width:`${T.successRate}%`}})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Operational Cost"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-blue-400",children:["£",T.cost]})]}),(0,b.jsx)("div",{className:"h-2 bg-[#1F2937] rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-blue-400 transition-all duration-700 rounded-full",style:{width:`${Math.min(T.cost/2e3*100,100)}%`}})})]})]}):(0,b.jsxs)("div",{className:"flex items-center justify-center h-full flex-col gap-2 text-red-400",children:[(0,b.jsx)(r.AlertCircle,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"text-xs",children:"Data unavailable"})]})}),(0,b.jsxs)(e.default,{href:"/dashboard/reports/efficiency",className:"z-10 w-full py-2.5 rounded-xl bg-white/5 border border-white/10 text-xs font-bold text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2 group",children:["View Full Report ",(0,b.jsx)(n.ArrowRight,{className:"w-3 h-3 group-hover:translate-x-0.5 transition-transform"})]})]}),(0,b.jsxs)("div",{className:"bg-[#111827] border border-slate-800 rounded-xl p-5",children:[(0,b.jsx)("h3",{className:"font-semibold text-white mb-4 text-sm",children:"Recent Activity"}),(0,b.jsx)("div",{className:"space-y-4",children:N.length>0?N.slice(0,4).map(a=>(0,b.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,b.jsx)("div",{className:`mt-0.5 w-6 h-6 rounded-full flex items-center justify-center shrink-0 ${a.bg||"bg-slate-800"}`,children:ac(a.iconType)}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm text-slate-300",children:[(0,b.jsx)("span",{className:"font-medium text-white",children:a.action})," ",a.target]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:a.time})]})]},a.id)):[{id:"a1",action:"Email sent",target:"to 15 prospects",time:"2 mins ago",iconType:"Mail",bg:"bg-blue-500"},{id:"a2",action:"Task completed",target:"Data Scraping",time:"1 hour ago",iconType:"CheckCircle",bg:"bg-emerald-500"},{id:"a3",action:"System alert",target:"High latency",time:"3 hours ago",iconType:"Zap",bg:"bg-amber-500"}].map(a=>(0,b.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,b.jsx)("div",{className:`mt-0.5 w-6 h-6 rounded-full flex items-center justify-center shrink-0 ${a.bg}`,children:ac(a.iconType)}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm text-slate-300",children:[(0,b.jsx)("span",{className:"font-medium text-white",children:a.action})," ",a.target]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:a.time})]})]},a.id))}),(0,b.jsx)("button",{className:"w-full mt-4 text-xs text-slate-500 hover:text-indigo-400 transition-colors py-2",children:"View all activity"})]})]})]}),(0,b.jsxs)("div",{className:"mt-8 bg-[#111827] border border-slate-800 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Usage Trends"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Daily tasks, bot runs & credits usage over the last 14 days"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs font-medium",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),"Tasks"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Bots"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),"Credits"]})]})]}),(0,b.jsx)("div",{className:"h-48 w-full flex items-end justify-between gap-2 px-2",children:[...Array(14)].map((a,c)=>{let d=Math.floor(60*Math.random())+20;return(0,b.jsx)("div",{className:"flex flex-col gap-1 w-full items-center group",children:(0,b.jsxs)("div",{className:"w-full max-w-[24px] bg-indigo-500/10 rounded-t-sm relative h-full group-hover:bg-indigo-500/20 transition-colors overflow-hidden flex items-end",children:[(0,b.jsx)("div",{className:"w-full bg-indigo-500 rounded-t-sm transition-all duration-500",style:{height:`${d}%`}}),(0,b.jsx)("div",{className:"w-full bg-blue-500 absolute bottom-0 opacity-50 transition-all duration-500",style:{height:`${.6*d}%`}})]})},c)})})]}),(0,b.jsx)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[{name:"API Uptime",status:"Operational",color:"bg-emerald-500",icon:t.Server},{name:"Bot Workers",status:"Operational",color:"bg-emerald-500",icon:h.Bot},{name:"Queue Health",status:"Warning",color:"bg-yellow-500",icon:u.Database},{name:"Proxy Status",status:"Operational",color:"bg-emerald-500",icon:v.Shield}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-[#111827] border border-slate-800 p-4 rounded-xl flex items-center justify-between hover:border-slate-700 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-slate-800 rounded-lg",children:(0,b.jsx)(a.icon,{className:"w-4 h-4 text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-slate-200",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.status})]})]}),(0,b.jsx)("div",{className:`w-2.5 h-2.5 rounded-full ${a.color} shadow-[0_0_8px_rgba(0,0,0,0.3)] animate-pulse`})]},c))}),(0,b.jsxs)("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-[#111827] border border-slate-800 rounded-xl p-6 relative overflow-hidden flex flex-col",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full blur-[40px]"}),(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(g.Zap,{className:"w-5 h-5 text-indigo-400"})," AI Insights & Recommendations"]}),(0,b.jsx)("div",{className:"space-y-4 relative z-10 flex-1",children:[{title:"Top Performer",desc:"Email Assistant achieved 98% delivery rate this week.",icon:w.Trophy,color:"text-amber-400",bg:"bg-amber-500/10"},{title:"Forecast",desc:"Projected 15% increase in lead generation based on current trends.",icon:q.TrendingUp,color:"text-emerald-400",bg:"bg-emerald-500/10"},{title:"Optimization",desc:"Switch 'Scraper Bot' to off-peak hours to save ~12% credits.",icon:s.Lightbulb,color:"text-blue-400",bg:"bg-blue-500/10"}].map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-4 p-3 rounded-lg hover:bg-slate-800/50 transition-colors border border-transparent hover:border-slate-800/50",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${a.bg}`,children:(0,b.jsx)(a.icon,{className:`w-5 h-5 ${a.color}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-white",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-0.5 leading-relaxed",children:a.desc})]})]},c))})]}),(0,b.jsxs)("div",{className:"bg-[#111827] border border-slate-800 rounded-xl overflow-hidden flex flex-col",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-800",children:(0,b.jsx)("h3",{className:"font-semibold text-white",children:"Bot Leaderboard"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-[#0B1221]/50 text-slate-400 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3",children:"Bot Name"}),(0,b.jsx)("th",{className:"px-6 py-3",children:"Success"}),(0,b.jsx)("th",{className:"px-6 py-3",children:"Runs"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Cost"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-800",children:[{name:"Leads Engine v2",success:98,runs:1240,cost:"£42.50"},{name:"Outreach Pro",success:94,runs:856,cost:"£28.20"},{name:"Content Wizard",success:89,runs:432,cost:"£15.00"},{name:"Data Miner X",success:99,runs:210,cost:"£8.40"},{name:"CV Parser",success:91,runs:156,cost:"£5.10"}].map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4 font-medium text-slate-200 flex items-center gap-2",children:[(0,b.jsx)(x.Target,{className:"w-3 h-3 text-slate-500"})," ",a.name]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:"text-emerald-400 font-medium bg-emerald-500/10 px-2 py-0.5 rounded text-xs",children:[a.success,"%"]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-slate-400",children:a.runs}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-slate-300 font-medium",children:a.cost})]},c))})]})})]})]})]}):null}a.s(["default",()=>y])}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map