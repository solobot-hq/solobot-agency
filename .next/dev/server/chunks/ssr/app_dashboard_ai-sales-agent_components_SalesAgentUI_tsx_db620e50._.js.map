{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bolad/Downloads/SoloBotAgency_SaaS_Starter/app/dashboard/ai-sales-agent/components/SalesAgentUI.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  Send,\r\n  Paperclip,\r\n  Bot,\r\n  MoreHorizontal,\r\n  Trash2,\r\n  Download,\r\n  Zap,\r\n  Search,\r\n  ShieldAlert,\r\n  Target,\r\n  Mail,\r\n  Users,\r\n  FileText,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Sparkles,\r\n  BrainCircuit,\r\n  TrendingUp,\r\n  AlertCircle,\r\n  CheckCircle2,\r\n  MessageSquare,\r\n} from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ntype Message = {\r\n  id: string;\r\n  role: \"user\" | \"ai\" | \"system\";\r\n  content: string;\r\n  timestamp: string;\r\n  mode?: string;\r\n  strategy?: string;\r\n};\r\n\r\ntype AgentMode =\r\n  | \"Smart Reply Generator\"\r\n  | \"Lead Analysis\"\r\n  | \"Objection Crusher\"\r\n  | \"Meeting Booker Mode\"\r\n  | \"Cold Email Rewrite\"\r\n  | \"Persona Profiles\"\r\n  | \"Upload Lead (CSV)\"\r\n  | \"Saved Responses\";\r\n\r\nconst LEAD_INSIGHTS = {\r\n  score: 82,\r\n  company: \"TechFlow Dynamics\",\r\n  role: \"VP of Engineering\",\r\n  painPoints: [\r\n    \"Slow development cycles\",\r\n    \"High cloud costs\",\r\n    \"Legacy code issues\",\r\n  ],\r\n  buyingSignals: [\r\n    \"Visited pricing 4x\",\r\n    \"Downloaded whitepaper\",\r\n    \"Hiring DevOps\",\r\n  ],\r\n};\r\n\r\nexport default function SalesAgentUI() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [messages, setMessages] = useState<Message[]>([\r\n    {\r\n      id: \"welcome\",\r\n      role: \"ai\",\r\n      content: \"I'm online. Select a mode on the left to begin.\",\r\n      timestamp: new Date().toLocaleTimeString(),\r\n    },\r\n  ]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [activeMode, setActiveMode] =\r\n    useState<AgentMode>(\"Smart Reply Generator\");\r\n  const [isLeftSidebarOpen, setIsLeftSidebarOpen] = useState(true);\r\n  const [isRightSidebarOpen, setIsRightSidebarOpen] = useState(true);\r\n\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n    }\r\n  }, [messages, isLoading]);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMsg: Message = {\r\n      id: Date.now().toString(),\r\n      role: \"user\",\r\n      content: input,\r\n      timestamp: new Date().toLocaleTimeString(),\r\n    };\r\n\r\n    setMessages((prev) => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const res = await fetch(\"/api/ai-sales-agent\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          messages: [...messages, userMsg].map((m) => ({\r\n            role: m.role === \"ai\" ? \"assistant\" : m.role,\r\n            content: m.content,\r\n          })),\r\n          mode: activeMode,\r\n          leadContext: LEAD_INSIGHTS,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.status === 402) {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            id: Date.now().toString(),\r\n            role: \"system\",\r\n            content:\r\n              \"üîí FREE LIMIT REACHED. Upgrade to Pro to continue.\",\r\n            timestamp: new Date().toLocaleTimeString(),\r\n          },\r\n        ]);\r\n      } else if (res.status === 403) {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            id: Date.now().toString(),\r\n            role: \"system\",\r\n            content: `üîí \"${activeMode}\" is locked for free users.`,\r\n            timestamp: new Date().toLocaleTimeString(),\r\n          },\r\n        ]);\r\n      } else {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            id: Date.now().toString(),\r\n            role: \"ai\",\r\n            content: data.reply,\r\n            strategy: data.strategy,\r\n            timestamp: new Date().toLocaleTimeString(),\r\n          },\r\n        ]);\r\n      }\r\n    } catch {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          role: \"system\",\r\n          content: \"‚ö†Ô∏è Error connecting to AI Agent.\",\r\n          timestamp: new Date().toLocaleTimeString(),\r\n        },\r\n      ]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return <div className=\"h-full w-full bg-[#0B1120]\" />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AA+CA,MAAM,gBAAgB;IACpB,OAAO;IACP,SAAS;IACT,MAAM;IACN,YAAY;QACV;QACA;QACA;KACD;IACD,eAAe;QACb;QACA;QACA;KACD;AACH;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY;QAClD;YACE,IAAI;YACJ,MAAM;YACN,SAAS;YACT,WAAW,IAAI,OAAO,kBAAkB;QAC1C;KACD;IACD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAC/B,IAAA,iNAAQ,EAAY;IACtB,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAC;IAE7D,MAAM,YAAY,IAAA,+MAAM,EAAiB;IAEzC,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU,OAAO,EAAE;YACrB,UAAU,OAAO,CAAC,SAAS,GAAG,UAAU,OAAO,CAAC,YAAY;QAC9D;IACF,GAAG;QAAC;QAAU;KAAU;IAExB,MAAM,oBAAoB;QACxB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,MAAM,UAAmB;YACvB,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,MAAM;YACN,SAAS;YACT,WAAW,IAAI,OAAO,kBAAkB;QAC1C;QAEA,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAQ;QACxC,SAAS;QACT,aAAa;QAEb,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,uBAAuB;gBAC7C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;2BAAI;wBAAU;qBAAQ,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC;4BAC3C,MAAM,EAAE,IAAI,KAAK,OAAO,cAAc,EAAE,IAAI;4BAC5C,SAAS,EAAE,OAAO;wBACpB,CAAC;oBACD,MAAM;oBACN,aAAa;gBACf;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,IAAI,MAAM,KAAK,KAAK;gBACtB,YAAY,CAAC,OAAS;2BACjB;wBACH;4BACE,IAAI,KAAK,GAAG,GAAG,QAAQ;4BACvB,MAAM;4BACN,SACE;4BACF,WAAW,IAAI,OAAO,kBAAkB;wBAC1C;qBACD;YACH,OAAO,IAAI,IAAI,MAAM,KAAK,KAAK;gBAC7B,YAAY,CAAC,OAAS;2BACjB;wBACH;4BACE,IAAI,KAAK,GAAG,GAAG,QAAQ;4BACvB,MAAM;4BACN,SAAS,CAAC,IAAI,EAAE,WAAW,2BAA2B,CAAC;4BACvD,WAAW,IAAI,OAAO,kBAAkB;wBAC1C;qBACD;YACH,OAAO;gBACL,YAAY,CAAC,OAAS;2BACjB;wBACH;4BACE,IAAI,KAAK,GAAG,GAAG,QAAQ;4BACvB,MAAM;4BACN,SAAS,KAAK,KAAK;4BACnB,UAAU,KAAK,QAAQ;4BACvB,WAAW,IAAI,OAAO,kBAAkB;wBAC1C;qBACD;YACH;QACF,EAAE,OAAM;YACN,YAAY,CAAC,OAAS;uBACjB;oBACH;wBACE,IAAI,KAAK,GAAG,GAAG,QAAQ;wBACvB,MAAM;wBACN,SAAS;wBACT,WAAW,IAAI,OAAO,kBAAkB;oBAC1C;iBACD;QACH,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBAAO,8OAAC;QAAI,WAAU;;;;;;AACxB"}}]
}