{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bolad/Downloads/SoloBotAgency_SaaS_Starter/app/dashboard/ai-sales-agent/components/SalesAgentUI.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  Send,\r\n  Paperclip,\r\n  Bot,\r\n  MoreHorizontal,\r\n  Trash2,\r\n  Download,\r\n  Zap,\r\n  Search,\r\n  ShieldAlert,\r\n  Target,\r\n  Mail,\r\n  Users,\r\n  FileText,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Sparkles,\r\n  BrainCircuit,\r\n  TrendingUp,\r\n  AlertCircle,\r\n  CheckCircle2,\r\n  MessageSquare,\r\n} from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ntype Message = {\r\n  id: string;\r\n  role: \"user\" | \"ai\" | \"system\";\r\n  content: string;\r\n  timestamp: string;\r\n  strategy?: string;\r\n};\r\n\r\ntype AgentMode =\r\n  | \"Smart Reply Generator\"\r\n  | \"Lead Analysis\"\r\n  | \"Objection Crusher\"\r\n  | \"Meeting Booker Mode\"\r\n  | \"Cold Email Rewrite\"\r\n  | \"Persona Profiles\"\r\n  | \"Upload Lead (CSV)\"\r\n  | \"Saved Responses\";\r\n\r\nconst LEAD_INSIGHTS = {\r\n  score: 82,\r\n  company: \"TechFlow Dynamics\",\r\n  role: \"VP of Engineering\",\r\n  painPoints: [\r\n    \"Slow development cycles\",\r\n    \"High cloud costs\",\r\n    \"Legacy code issues\",\r\n  ],\r\n  buyingSignals: [\r\n    \"Visited pricing 4x\",\r\n    \"Downloaded whitepaper\",\r\n    \"Hiring DevOps\",\r\n  ],\r\n};\r\n\r\nexport default function SalesAgentUI() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [messages, setMessages] = useState<Message[]>([\r\n    {\r\n      id: \"welcome\",\r\n      role: \"ai\",\r\n      content: \"I'm online. Select a mode on the left to begin.\",\r\n      timestamp: new Date().toLocaleTimeString(),\r\n    },\r\n  ]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [activeMode, setActiveMode] =\r\n    useState<AgentMode>(\"Smart Reply Generator\");\r\n\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n    }\r\n  }, [messages, isLoading]);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMsg: Message = {\r\n      id: Date.now().toString(),\r\n      role: \"user\",\r\n      content: input,\r\n      timestamp: new Date().toLocaleTimeString(),\r\n    };\r\n\r\n    setMessages((prev) => [...prev, userMsg]);\r\n    setInput(\"\");\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const res = await fetch(\"/api/ai-sales-agent\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          messages: [...messages, userMsg].map((m) => ({\r\n            role:\r\n              m.role === \"ai\"\r\n                ? \"assistant\"\r\n                : m.role === \"system\"\r\n                ? \"system\"\r\n                : \"user\",\r\n            content: m.content,\r\n          })),\r\n          mode: activeMode,\r\n          leadContext: LEAD_INSIGHTS,\r\n        }),\r\n      });\r\n\r\n      let data: any = {};\r\n      try {\r\n        data = await res.json();\r\n      } catch {\r\n        data = {};\r\n      }\r\n\r\n      if (res.status === 402) {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            id: Date.now().toString(),\r\n            role: \"system\",\r\n            content: \"üîí FREE LIMIT REACHED. Upgrade to Pro to continue.\",\r\n            timestamp: new Date().toLocaleTimeString(),\r\n          },\r\n        ]);\r\n      } else if (res.status === 403) {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            id: Date.now().toString(),\r\n            role: \"system\",\r\n            content: `üîí \"${activeMode}\" is locked for free users.`,\r\n            timestamp: new Date().toLocaleTimeString(),\r\n          },\r\n        ]);\r\n      } else if (res.ok) {\r\n        setMessages((prev) => [\r\n          ...prev,\r\n          {\r\n            id: Date.now().toString(),\r\n            role: \"ai\",\r\n            content: data.reply || \"No response generated.\",\r\n            strategy: data.strategy,\r\n            timestamp: new Date().toLocaleTimeString(),\r\n          },\r\n        ]);\r\n      }\r\n    } catch {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        {\r\n          id: Date.now().toString(),\r\n          role: \"system\",\r\n          content: \"‚ö†Ô∏è Error connecting to AI Agent.\",\r\n          timestamp: new Date().toLocaleTimeString(),\r\n        },\r\n      ]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full w-full bg-[#0B1120] text-slate-200 flex flex-col\">\r\n      <div className=\"flex-1 overflow-y-auto p-6\" ref={scrollRef}>\r\n        {messages.map((msg) => (\r\n          <div key={msg.id} className=\"mb-4\">\r\n            <div\r\n              className={`p-4 rounded-xl ${\r\n                msg.role === \"user\"\r\n                  ? \"bg-[#00FF90] text-[#0B1120] ml-auto max-w-[70%]\"\r\n                  : msg.role === \"ai\"\r\n                  ? \"bg-[#1E293B] max-w-[70%]\"\r\n                  : \"text-center text-xs text-slate-400\"\r\n              }`}\r\n            >\r\n              {msg.content}\r\n              {msg.strategy && (\r\n                <div className=\"mt-2 text-xs opacity-70 italic\">\r\n                  {msg.strategy}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"p-4 border-t border-[#1E293B] flex gap-2\">\r\n        <input\r\n          className=\"flex-1 bg-[#162032] text-white rounded-lg px-4 py-3 outline-none\"\r\n          placeholder={`Message sales agent in ${activeMode}...`}\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={(e) => e.key === \"Enter\" && handleSendMessage()}\r\n          disabled={isLoading}\r\n        />\r\n        <button\r\n          onClick={handleSendMessage}\r\n          disabled={isLoading || !input.trim()}\r\n          className=\"bg-[#00FF90] text-[#0B1120] px-4 rounded-lg font-bold disabled:opacity-50\"\r\n        >\r\n          <Send className=\"w-5 h-5\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/send.js","sources":["file:///C:/Users/bolad/Downloads/SoloBotAgency_SaaS_Starter/node_modules/lucide-react/src/icons/send.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n]);\n\nexport default Send;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAO,6KAAA,EAAiB,MAAQ,CAAA,CAAA,CAAA;IACpC,CAAA;QACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACA,CAAA;YACE,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YACH,CAAA,CAAA,CAAK,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QACP,CAAA;KACF,CAAA;IACA;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA8B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC5D,CAAA,CAAA"}}]
}