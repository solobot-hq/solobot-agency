{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bolad/Downloads/SoloBotAgency_SaaS_Starter/lib/stripe.ts"],"sourcesContent":["import Stripe from \"stripe\";\n\nexport const stripe = new Stripe(\n  process.env.STRIPE_SECRET_KEY || \"\",\n  {\n    apiVersion: \"2024-06-20\",\n    typescript: true,\n  }\n);\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS,IAAI,mKAAM,CAC9B,QAAQ,GAAG,CAAC,iBAAiB,IAAI,IACjC;IACE,YAAY;IACZ,YAAY;AACd"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/bolad/Downloads/SoloBotAgency_SaaS_Starter/app/api/checkout/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { stripe } from \"@/lib/stripe\";\r\n\r\nexport async function POST(req: Request) {\r\n  // üî• 1. DEBUG LOG: Check if server is hit\r\n  console.log(\"----------------------------------\");\r\n  console.log(\"‚úÖ API ROUTE HIT: /api/checkout\");\r\n  console.log(\"----------------------------------\");\r\n\r\n  try {\r\n    const body = await req.json();\r\n    const { priceId } = body;\r\n\r\n    // üî• 2. DEBUG LOG: Check Price ID\r\n    console.log(\"üëâ Price ID Received:\", priceId);\r\n    console.log(\"üëâ Environment Default:\", process.env.STRIPE_PRICE_ID_MONTHLY);\r\n\r\n    const targetPriceId = priceId || process.env.STRIPE_PRICE_ID_MONTHLY;\r\n\r\n    if (!targetPriceId) {\r\n      console.error(\"‚ùå Error: Missing Price ID\");\r\n      return NextResponse.json({ error: \"Missing Price ID\" }, { status: 400 });\r\n    }\r\n\r\n    // 3. Create Session\r\n    const session = await stripe.checkout.sessions.create({\r\n      mode: \"subscription\",\r\n      payment_method_types: [\"card\"],\r\n      line_items: [{ price: targetPriceId, quantity: 1 }],\r\n      success_url: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard?success=true`,\r\n      cancel_url: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard?canceled=true`,\r\n    });\r\n\r\n    // üî• 4. DEBUG LOG: Check Session URL\r\n    console.log(\"‚úÖ Session Created:\", session.url);\r\n\r\n    return NextResponse.json({ url: session.url });\r\n\r\n  } catch (error: any) {\r\n    console.error(\"‚ùå STRIPE ERROR:\", error);\r\n    return NextResponse.json(\r\n      { error: error.message || \"Internal Error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAY;IACrC,0CAA0C;IAC1C,QAAQ,GAAG,CAAC;IACZ,QAAQ,GAAG,CAAC;IACZ,QAAQ,GAAG,CAAC;IAEZ,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,OAAO,EAAE,GAAG;QAEpB,kCAAkC;QAClC,QAAQ,GAAG,CAAC,yBAAyB;QACrC,QAAQ,GAAG,CAAC,2BAA2B,QAAQ,GAAG,CAAC,uBAAuB;QAE1E,MAAM,gBAAgB,WAAW,QAAQ,GAAG,CAAC,uBAAuB;QAEpE,IAAI,CAAC,eAAe;YAClB,QAAQ,KAAK,CAAC;YACd,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QACxE;QAEA,oBAAoB;QACpB,MAAM,UAAU,MAAM,yHAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpD,MAAM;YACN,sBAAsB;gBAAC;aAAO;YAC9B,YAAY;gBAAC;oBAAE,OAAO;oBAAe,UAAU;gBAAE;aAAE;YACnD,aAAa,6DAAmC,uBAAuB,CAAC;YACxE,YAAY,6DAAmC,wBAAwB,CAAC;QAC1E;QAEA,qCAAqC;QACrC,QAAQ,GAAG,CAAC,sBAAsB,QAAQ,GAAG;QAE7C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,KAAK,QAAQ,GAAG;QAAC;IAE9C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO,MAAM,OAAO,IAAI;QAAiB,GAC3C;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}